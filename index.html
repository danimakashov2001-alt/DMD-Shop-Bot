<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>–ö–∞—Ç–∞–ª–æ–≥</title>

<link rel="stylesheet" href="https://unpkg.com/photoswipe@5/dist/photoswipe.css">

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{
  width:100%;height:100%;
  background:#0b0b0b;
  color:#fff;
  font-family:-apple-system,BlinkMacSystemFont,Arial;
}
header{
  height:46px;
  display:flex;
  align-items:center;
  padding:0 14px;
  background:#111;
  font-weight:600;
}
.catalog{
  height:calc(100vh - 46px);
  overflow-y:auto;
  padding:14px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:14px;
}
.card{
  background:#fff;
  color:#000;
  border-radius:16px;
  overflow:hidden;
  cursor:pointer;
}
.card img{
  width:100%;
  height:210px;
  object-fit:cover;
}
.card-body{
  padding:10px;
  font-size:13px;
}

/* overlay info */
.pswp__custom-info{
  position:absolute;
  left:0;right:0;bottom:0;
  padding:14px 16px;
  background:linear-gradient(transparent,rgba(0,0,0,.85));
  font-size:13px;
}
.pswp__custom-info .price{
  margin-top:6px;
  font-weight:600;
}
</style>
</head>
<body>

<header>üõç –ö–∞—Ç–∞–ª–æ–≥</header>
<div class="catalog" id="catalog"></div>

<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"></div>

<script src="https://unpkg.com/photoswipe@5/dist/photoswipe.umd.min.js"></script>
<script src="https://unpkg.com/photoswipe@5/dist/photoswipe-lightbox.umd.min.js"></script>

<script>
    
const products=[
{
name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—Å–µ—Ä—ã–π)",
price:4300,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏: 185/70, —Ä–∞–∑–º–µ—Ä L.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fVQvE5F.jpg",
"https://iili.io/fVQU5WG.jpg",
"https://iili.io/fVQUMbe.webp",
"https://iili.io/fVQUv5P.webp"
]
},
{
name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—á—ë—Ä–Ω—ã–π)",
price:4300,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–ú–∏–Ω–∏–º–∞–ª–∏–∑–º. –ü–ª–æ—Ç–Ω—ã–π —Ö–ª–æ–ø–æ–∫.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fVQ6E4j.webp",
"https://iili.io/fVQ6ba4.webp",
"https://iili.io/fVQPF6b.webp",
"https://iili.io/fVQPuMg.webp",
"https://iili.io/fVQP0NI.webp"
]
},
{
name:"–ó–∏–ø —Ö—É–¥–∏ No Faith Studio boxy crop fit",
price:4100,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"Y2K / Opium —Å—Ç–∏–ª—å.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fXB5Ctj.jpg",
"https://iili.io/fXqKi8B.webp",
"https://iili.io/fXqfRte.webp"
]
},
{
name:"–õ–æ–Ω–≥—Å–ª–∏–≤ Derschutze crop fit",
price:3890,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –≤—ã—à–∏–≤–∫–∞.",
subcategory:"longsleeves",
photos:[
"https://iili.io/fVQgdrl.webp",
"https://iili.io/fVQgbaV.webp",
"https://iili.io/fVQrMMb.webp",
"https://iili.io/fVQrkDF.webp",
"https://iili.io/fVQ4JJ2.webp",
"https://iili.io/fVQ4I5B.webp"
]
}
];

const catalog = document.getElementById("catalog");

products.forEach((p,i)=>{
  const card=document.createElement("div");
  card.className="card";
  card.innerHTML=`
    <img src="${p.photos[0]}">
    <div class="card-body">${p.name}<br>${p.price}</div>
  `;
  card.onclick=()=>openGallery(i);
  catalog.appendChild(card);
});

let lightbox;

function openGallery(index){
  if(lightbox) lightbox.destroy();

  lightbox = new PhotoSwipeLightbox({
    dataSource: products[index].photos.map(src=>({
      src,
      width:1600,
      height:2000
    })),
    pswpModule: PhotoSwipe,
    wheelToZoom: true,
    arrowKeys: true
  });

  lightbox.on('uiRegister', function() {
    lightbox.pswp.ui.registerElement({
      name: 'custom-info',
      order: 9,
      isButton: false,
      appendTo: 'root',
      html:
        `<div class="pswp__custom-info" id="pswp-info">
          <b>${products[index].name}</b><br>
          ${products[index].description}<br>
          ${products[index].status}
          <div class="price">${products[index].price}</div>
        </div>`
    });
  });

  lightbox.on('zoomPanUpdate', function(e){
    const info=document.getElementById("pswp-info");
    if(info) info.style.display = e.scale > 1 ? "none" : "block";
  });

  lightbox.init();
}
</script>

</body>
</html>
