<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</title>

<!-- PhotoSwipe 5 —á–µ—Ä–µ–∑ CDN -->
<link rel="stylesheet" href="https://unpkg.com/photoswipe@5/dist/photoswipe.css">

<style>
:root { --accent:#c49a6c; }
* { margin:0; padding:0; box-sizing:border-box; }
html, body { width:100%; height:100%; font-family:-apple-system,BlinkMacSystemFont,Arial; background:#0b0b0b; color:#fff; overscroll-behavior:none; }

header { height:46px; display:flex; align-items:center; padding:0 14px; background:rgba(15,15,15,.95); font-size:16px; }
.catalog { display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:14px; padding:14px; overflow-y:auto; height:calc(100vh - 46px); }
.card { background:#fff; color:#000; border-radius:16px; overflow:hidden; cursor:pointer; transition:transform 0.2s; }
.card:hover { transform:scale(1.03); }
.card img { width:100%; height:210px; object-fit:cover; }
.card-body { padding:10px; font-size:13px; }

/* Product Info Overlay */
.pswp__custom-info {
  position:absolute;
  bottom:0;
  left:0; right:0;
  padding:12px 16px;
  background:linear-gradient(180deg,transparent,rgba(0,0,0,0.8));
  color:#fff;
  font-size:13px;
  max-height:25%;
  overflow-y:auto;
}
.pswp__custom-info .info-name { font-weight:600; font-size:14px; margin-bottom:2px; }
.pswp__custom-info .info-desc { font-size:12px; color:#ccc; margin-bottom:2px; }
.pswp__custom-info .info-status { font-size:12px; color:#7cb342; margin-bottom:2px; }
.pswp__custom-info .info-price { color:var(--accent); font-weight:600; font-size:13px; }
</style>
</head>
<body>

<header>üõç –ö–∞—Ç–∞–ª–æ–≥</header>
<div class="catalog" id="catalog"></div>

<!-- PhotoSwipe -->
<div class="pswp" id="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="pswp__bg"></div>
  <div class="pswp__scroll-wrap">
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    <div class="pswpui pswpui--hidden">
      <div class="pswp__top-bar">
        <div class="pswp__counter"></div>
        <button class="pswpbutton pswpbutton--close" title="–ó–∞–∫—Ä—ã—Ç—å (Esc)"></button>
        <button class="pswpbutton pswpbutton--fs" title="–ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω"></button>
        <button class="pswpbutton pswpbutton--zoom" title="–£–≤–µ–ª–∏—á–∏—Ç—å/—É–º–µ–Ω—å—à–∏—Ç—å"></button>
      </div>
      <div class="pswp__preloader">
        <div class="pswppreloadericn">
          <div class="pswppreloadercut">
            <div class="pswppreloaderdonut"></div>
          </div>
        </div>
      </div>
      <div class="pswp__custom-info" id="pswp-info"></div>
    </div>
  </div>
</div>

<!-- PhotoSwipe Lightbox —á–µ—Ä–µ–∑ CDN -->
<script type="module" src="https://unpkg.com/photoswipe@5/dist/photoswipe-lightbox.esm.min.js"></script>

<script type="module">
// ====== –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ ======
const products=[
{
name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—Å–µ—Ä—ã–π)",
price:4300,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏: 185/70, —Ä–∞–∑–º–µ—Ä L.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fVQvE5F.jpg",
"https://iili.io/fVQU5WG.jpg",
"https://iili.io/fVQUMbe.webp",
"https://iili.io/fVQUv5P.webp"
]
},
{
name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—á—ë—Ä–Ω—ã–π)",
price:4300,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–ú–∏–Ω–∏–º–∞–ª–∏–∑–º. –ü–ª–æ—Ç–Ω—ã–π —Ö–ª–æ–ø–æ–∫.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fVQ6E4j.webp",
"https://iili.io/fVQ6ba4.webp",
"https://iili.io/fVQPF6b.webp",
"https://iili.io/fVQPuMg.webp",
"https://iili.io/fVQP0NI.webp"
]
},
{
name:"–ó–∏–ø —Ö—É–¥–∏ No Faith Studio boxy crop fit",
price:4100,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"Y2K / Opium —Å—Ç–∏–ª—å.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fXB5Ctj.jpg",
"https://iili.io/fXqKi8B.webp",
"https://iili.io/fXqfRte.webp"
]
},
{
name:"–õ–æ–Ω–≥—Å–ª–∏–≤ Derschutze crop fit",
price:3890,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –≤—ã—à–∏–≤–∫–∞.",
subcategory:"longsleeves",
photos:[
"https://iili.io/fVQgdrl.webp",
"https://iili.io/fVQgbaV.webp",
"https://iili.io/fVQrMMb.webp",
"https://iili.io/fVQrkDF.webp",
"https://iili.io/fVQ4JJ2.webp",
"https://iili.io/fVQ4I5B.webp"
]
}
];

// ====== –†–µ–Ω–¥–µ—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ ======
const catalogEl = document.getElementById('catalog');

products.forEach((p, pi) => {
  const card = document.createElement('div');
  card.className = 'card';
  card.innerHTML = `
    <img src="${p.photos[0]}" alt="${p.name}">
    <div class="card-body">${p.name}<br>${p.price} ‚ÇΩ</div>
  `;
  catalogEl.appendChild(card);

  // –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≥–∞–ª–µ—Ä–µ—é
  card.addEventListener('click', () => {
    openGallery(pi);
  });
});

// ====== PhotoSwipe –≥–∞–ª–µ—Ä–µ—è ======
let lightbox;

function openGallery(productIndex) {
  const product = products[productIndex];

  const items = product.photos.map(url => ({ src: url, w: 1200, h: 900 }));

  if(lightbox) lightbox.destroy(); // –ï—Å–ª–∏ —É–∂–µ –æ—Ç–∫—Ä—ã—Ç, —É–¥–∞–ª—è–µ–º –ø—Ä–æ—à–ª—ã–π

  lightbox = new PhotoSwipeLightbox({
    dataSource: items,
    pswpModule: PhotoSwipe,
    showHideAnimationType: 'fade',
    zoom: true
  });

  // Overlay —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
  lightbox.on('change', () => {
    const currIndex = lightbox.pswp.currIndex;
    const infoEl = document.getElementById('pswp-info');
    infoEl.innerHTML = `
      <div class="info-name">${product.name}</div>
      <div class="info-desc">${product.description}</div>
      <div class="info-status">${product.status}</div>
      <div class="info-price">${product.price} ‚ÇΩ</div>
    `;
  });

  lightbox.init();
  lightbox.loadAndOpen(0);
}
</script>
</body>
</html>
