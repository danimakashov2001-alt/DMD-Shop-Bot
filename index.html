<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>–ö–∞—Ç–∞–ª–æ–≥</title>

<!-- Swiper -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">

<style>
:root { --accent:#c49a6c; }
* { box-sizing:border-box; margin:0; padding:0; }

html,body {
  width:100%; height:100%;
  font-family:-apple-system,BlinkMacSystemFont,Arial;
  background:#0b0b0b; color:#fff;
}

header {
  height:46px;
  display:flex;
  align-items:center;
  padding:0 14px;
  background:#111;
}

.catalog {
  padding:14px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:14px;
}

.card {
  background:#fff;
  border-radius:16px;
  overflow:hidden;
  color:#000;
}

.card img {
  width:100%;
  height:210px;
  object-fit:cover;
}

.card-body {
  padding:10px;
  font-size:13px;
}

/* ===== –ì–ê–õ–ï–†–ï–Ø ===== */
#gallery {
  position:fixed;
  inset:0;
  background:#000;
  display:none;
  z-index:1000;
}

.swiper {
  width:100%;
  height:100%;
}

.swiper-slide {
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}

.zoom-container {
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
}

.zoom-container img {
  max-width:100%;
  max-height:100%;
  object-fit:contain;
  user-select:none;
  touch-action:none;
}

.close {
  position:absolute;
  top:12px;
  right:14px;
  font-size:28px;
  z-index:10;
}

.info {
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  padding:14px 16px;
  background:linear-gradient(transparent,rgba(0,0,0,.85));
  font-size:13px;
}

.info .price {
  color:var(--accent);
  font-weight:600;
}
</style>
</head>
<body>

<header>üõç –ö–∞—Ç–∞–ª–æ–≥</header>
<div class="catalog" id="catalog"></div>

<div id="gallery">
  <div class="close" onclick="closeGallery()">‚úï</div>

  <div class="swiper" id="swiper">
    <div class="swiper-wrapper" id="swiper-wrapper"></div>
  </div>

  <div class="info" id="info"></div>
</div>

<!-- Swiper -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<!-- Panzoom -->
<script src="https://unpkg.com/@panzoom/panzoom/dist/panzoom.min.js"></script>

<script>
const products=[
{
name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—Å–µ—Ä—ã–π)",
price:4300,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏: 185/70, —Ä–∞–∑–º–µ—Ä L.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fVQvE5F.jpg",
"https://iili.io/fVQU5WG.jpg",
"https://iili.io/fVQUMbe.webp",
"https://iili.io/fVQUv5P.webp"
]
},
{
name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—á—ë—Ä–Ω—ã–π)",
price:4300,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–ú–∏–Ω–∏–º–∞–ª–∏–∑–º. –ü–ª–æ—Ç–Ω—ã–π —Ö–ª–æ–ø–æ–∫.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fVQ6E4j.webp",
"https://iili.io/fVQ6ba4.webp",
"https://iili.io/fVQPF6b.webp",
"https://iili.io/fVQPuMg.webp",
"https://iili.io/fVQP0NI.webp"
]
},
{
name:"–ó–∏–ø —Ö—É–¥–∏ No Faith Studio boxy crop fit",
price:4100,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"Y2K / Opium —Å—Ç–∏–ª—å.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fXB5Ctj.jpg",
"https://iili.io/fXqKi8B.webp",
"https://iili.io/fXqfRte.webp"
]
},
{
name:"–õ–æ–Ω–≥—Å–ª–∏–≤ Derschutze crop fit",
price:3890,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –≤—ã—à–∏–≤–∫–∞.",
subcategory:"longsleeves",
photos:[
"https://iili.io/fVQgdrl.webp",
"https://iili.io/fVQgbaV.webp",
"https://iili.io/fVQrMMb.webp",
"https://iili.io/fVQrkDF.webp",
"https://iili.io/fVQ4JJ2.webp",
"https://iili.io/fVQ4I5B.webp"
]
}
];


const catalog = document.getElementById("catalog");
const gallery = document.getElementById("gallery");
const wrapper = document.getElementById("swiper-wrapper");
const info = document.getElementById("info");

let swiper;
let panzooms = [];

products.forEach((p,i)=>{
  const c=document.createElement("div");
  c.className="card";
  c.innerHTML=`
    <img src="${p.photos[0]}">
    <div class="card-body">${p.name}<br>${p.price} ‚ÇΩ</div>
  `;
  c.onclick=()=>openGallery(p);
  catalog.appendChild(c);
});

function openGallery(product){
  wrapper.innerHTML="";
  panzooms=[];

  product.photos.forEach(src=>{
    const slide=document.createElement("div");
    slide.className="swiper-slide";
    slide.innerHTML=`
      <div class="zoom-container">
        <img src="${src}">
      </div>
    `;
    wrapper.appendChild(slide);
  });

  gallery.style.display="block";

  info.innerHTML=`
    <div><b>${product.name}</b></div>
    <div>${product.description}</div>
    <div>${product.status}</div>
    <div class="price">${product.price} ‚ÇΩ</div>
  `;

  swiper = new Swiper("#swiper",{
    slidesPerView:1,
    resistanceRatio:0,
    on:{
      slideChange(){
        resetZoom();
      }
    }
  });

  document.querySelectorAll(".zoom-container").forEach(container=>{
    const pz = Panzoom(container,{
      maxScale:4,
      minScale:1,
      contain:"outside",
      canvas:true
    });
    container.addEventListener("dblclick",()=>toggleZoom(pz));
    container.addEventListener("touchend",e=>{
      if(e.touches.length===0){
        const now=Date.now();
        if(container.lastTap && now-container.lastTap<300){
          toggleZoom(pz);
        }
        container.lastTap=now;
      }
    });
    panzooms.push(pz);
  });
}

function toggleZoom(pz){
  pz.zoomWithWheel({deltaY:-200});
}

function resetZoom(){
  panzooms.forEach(pz=>pz.reset());
}

function closeGallery(){
  gallery.style.display="none";
  if(swiper) swiper.destroy();
}
</script>

</body>
</html>
