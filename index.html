<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ö–∞—Ç–∞–ª–æ–≥</title>

<style>
:root{
  --accent:#c49a6c;
  --text:#2f2a26;
}

*{
  box-sizing:border-box;
  user-select:none;
  -webkit-tap-highlight-color:transparent;
}

body{
  margin:0;
  font-family:Arial, sans-serif;
  background:url("https://iili.io/fXfx3ep.jpg") center/cover fixed;
  color:var(--text);
}

header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px;
  background:rgba(40,40,40,.75);
  color:white;
}

button{
  border:none;
  background:var(--accent);
  color:white;
  padding:8px 16px;
  border-radius:20px;
}

.catalog{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:14px;
  padding:14px;
}

.card{
  background:white;
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 6px 18px rgba(0,0,0,.2);
}

.card img{
  width:100%;
  height:200px;
  object-fit:cover;
}

.card-body{padding:10px}
.price{font-weight:bold}
.status{font-size:12px;color:var(--accent)}

#categories{
  display:none;
  padding:14px;
  background:rgba(255,255,255,.95);
}

.category{font-weight:bold;margin-top:12px}
.subcat{padding-left:14px;margin:6px 0;cursor:pointer}

.modal{
  position:fixed;
  inset:0;
  background:black;
  display:none;
  flex-direction:column;
  z-index:100;
}

.slider{
  flex:1;
  display:flex;
  overflow-x:auto;
  scroll-snap-type:x mandatory;
}

.slide{
  min-width:100%;
  display:flex;
  justify-content:center;
  align-items:center;
}

.slide img{
  max-width:100%;
  max-height:100%;
  touch-action:none;
}

.modal-info{
  background:white;
  padding:14px;
}

.close{
  color:white;
  text-align:center;
  padding:12px;
}
</style>
</head>

<body>

<header>
  <h3>üõç –ö–∞—Ç–∞–ª–æ–≥</h3>
  <button onclick="toggleCategories()">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
</header>

<div id="categories"></div>
<div class="catalog" id="catalog"></div>

<div class="modal" id="modal">
  <div class="slider" id="slider"></div>
  <div class="modal-info" id="modalInfo"></div>
  <div class="close" onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</div>
</div>

<script>
// ===== –¢–û–í–ê–†–´ =====
var products = [
  {
    name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—Å–µ—Ä—ã–π)",
    price:4300,
    status:"–í –Ω–∞–ª–∏—á–∏–∏",
    description:"185/70, —Ä–∞–∑–º–µ—Ä L. –ü–ª–æ—Ç–Ω—ã–π —Ö–ª–æ–ø–æ–∫.",
    subcategory:"zip_hoodies",
    photos:[
      "https://iili.io/fVQvE5F.jpg",
      "https://iili.io/fVQU5WG.jpg",
      "https://iili.io/fVQUMbe.webp"
    ]
  },
  {
    name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—á—ë—Ä–Ω—ã–π)",
    price:4300,
    status:"–í –Ω–∞–ª–∏—á–∏–∏",
    description:"–ú–∏–Ω–∏–º–∞–ª–∏–∑–º, –ø—Ä–µ–º–∏—É–º –ø–æ—à–∏–≤.",
    subcategory:"zip_hoodies",
    photos:[
      "https://iili.io/fVQ6E4j.webp",
      "https://iili.io/fVQ6ba4.webp",
      "https://iili.io/fVQPF6b.webp"
    ]
  },
  {
    name:"–ó–∏–ø —Ö—É–¥–∏ No Faith Studio boxy crop fit",
    price:4100,
    status:"–í –Ω–∞–ª–∏—á–∏–∏",
    description:"–≠–∫—Å–∫–ª—é–∑–∏–≤. Y2K / Opium —Å—Ç–∏–ª—å. –£–Ω–∏—Å–µ–∫—Å.",
    subcategory:"zip_hoodies",
    photos:[
      "https://iili.io/fXB5Ctj.jpg",
      "https://iili.io/fVQ4Pqb.webp",
      "https://iili.io/fVQ6zEG.webp"
    ]
  },
  {
    name:"–õ–æ–Ω–≥—Å–ª–∏–≤ Derschutze crop fit",
    price:3890,
    status:"–í –Ω–∞–ª–∏—á–∏–∏",
    description:"–≠–∫—Å–∫–ª—é–∑–∏–≤. –í—ã—à–∏–≤–∫–∞. –†–∞–∑–º–µ—Ä M.",
    subcategory:"longsleeves",
    photos:[
      "https://iili.io/fVQgdrl.webp",
      "https://iili.io/fVQgbaV.webp",
      "https://iili.io/fVQrMMb.webp"
    ]
  }
];

// ===== –ö–ê–¢–ï–ì–û–†–ò–ò =====
var categoriesData = {
  "–ì–æ–ª–æ–≤–Ω—ã–µ —É–±–æ—Ä—ã":{caps:"–ö–µ–ø–∫–∏",hats:"–®–∞–ø–∫–∏"},
  "–í–µ—Ä—Ö":{zip_hoodies:"–ó–∏–ø —Ö—É–¥–∏",longsleeves:"–õ–æ–Ω–≥—Å–ª–∏–≤—ã"},
  "–ù–∏–∑":{pants:"–ë—Ä—é–∫–∏",jeans:"–î–∂–∏–Ω—Å—ã",shorts:"–®–æ—Ä—Ç—ã"},
  "–û–±—É–≤—å":{sneakers:"–ö—Ä–æ—Å—Å–æ–≤–∫–∏",shoes:"–¢—É—Ñ–ª–∏"}
};

var catalog = document.getElementById("catalog");
var categories = document.getElementById("categories");

// ===== –ö–ê–¢–ê–õ–û–ì =====
function renderCatalog(list){
  catalog.innerHTML="";
  for(var i=0;i<list.length;i++){
    var p=list[i];
    var card=document.createElement("div");
    card.className="card";
    card.onclick=(function(prod){
      return function(){ openModal(prod); };
    })(p);
    var img=document.createElement("img");
    img.src=p.photos[0];

    var body=document.createElement("div");
    body.className="card-body";

    body.innerHTML="<div>"+p.name+"</div><div class='price'>"+p.price+" ‚ÇΩ</div><div class='status'>"+p.status+"</div>";

    card.appendChild(img);
    card.appendChild(body);
    catalog.appendChild(card);
  }
}

// ===== –ö–ê–¢–ï–ì–û–†–ò–ò =====
function toggleCategories(){
  if(categories.style.display==="block"){
    categories.style.display="none";
    catalog.style.display="grid";
  }else{
    categories.style.display="block";
    catalog.style.display="none";
  }
}

function buildCategories(){
  categories.innerHTML="";
  for(var cat in categoriesData){
    var t=document.createElement("div");
    t.className="category";
    t.innerHTML=cat;
    categories.appendChild(t);

    for(var sub in categoriesData[cat]){
      var s=document.createElement("div");
      s.className="subcat";
      s.innerHTML=categoriesData[cat][sub];
      s.onclick=(function(sc){
        return function(){ filterSubcat(sc); };
      })(sub);
      categories.appendChild(s);
    }
  }
}

function filterSubcat(sub){
  var filtered=[];
  for(var i=0;i<products.length;i++){
    if(products[i].subcategory===sub){
      filtered.push(products[i]);
    }
  }
  categories.style.display="none";
  catalog.style.display="grid";
  renderCatalog(filtered);
}

// ===== MODAL =====
function openModal(p){
  var modal=document.getElementById("modal");
  var slider=document.getElementById("slider");
  var info=document.getElementById("modalInfo");

  slider.innerHTML="";
  for(var i=0;i<p.photos.length;i++){
    var slide=document.createElement("div");
    slide.className="slide";
    var img=document.createElement("img");
    img.src=p.photos[i];
    slide.appendChild(img);
    slider.appendChild(slide);
  }

  info.innerHTML="<b>"+p.name+"</b><br>"+p.description+"<br><br>"+p.price+" ‚ÇΩ ‚Ä¢ "+p.status;
  modal.style.display="flex";
}

function closeModal(){
  document.getElementById("modal").style.display="none";
}

// INIT
buildCategories();
renderCatalog(products);
</script>

</body>
</html>
