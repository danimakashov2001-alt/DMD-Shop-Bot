<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ö–∞—Ç–∞–ª–æ–≥</title>

<style>
:root{
  --accent:#c49a6c;
  --text:#2f2a26;
}

*{
  box-sizing:border-box;
  user-select:none;
  -webkit-tap-highlight-color:transparent;
}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,Arial;
  background:url("https://iili.io/fXfx3ep.jpg") center/cover fixed;
  color:var(--text);
}

header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px;
  background:rgba(40,40,40,.75);
  color:white;
  backdrop-filter:blur(6px);
}

button{
  border:none;
  background:var(--accent);
  color:white;
  padding:8px 16px;
  border-radius:20px;
}

.catalog{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:14px;
  padding:14px;
}

.card{
  background:white;
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 6px 18px rgba(0,0,0,.2);
}

.card img{
  width:100%;
  height:200px;
  object-fit:cover;
}

.card-body{padding:10px}
.price{font-weight:bold}
.status{font-size:12px;color:var(--accent)}

#categories{
  display:none;
  padding:14px;
  background:rgba(255,255,255,.95);
}

.category{
  font-weight:bold;
  margin-top:12px;
}

.subcat{
  padding-left:14px;
  margin:6px 0;
}

.toast{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:#000;
  color:#fff;
  padding:10px 16px;
  border-radius:20px;
  display:none;
  z-index:50;
}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:black;
  display:none;
  flex-direction:column;
  z-index:100;
}

.slider{
  flex:1;
  display:flex;
  overflow-x:auto;
  scroll-snap-type:x mandatory;
}

.slide{
  min-width:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}

.slide img{
  max-width:100%;
  max-height:100%;
  transition:transform .15s;
  touch-action:none;
}

.modal-info{
  background:white;
  padding:14px;
}

.close{
  color:white;
  text-align:center;
  padding:12px;
}
</style>
</head>

<body>

<header>
  <h3>üõç –ö–∞—Ç–∞–ª–æ–≥</h3>
  <button onclick="toggleCategories()">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
</header>

<div id="categories"></div>
<div class="catalog" id="catalog"></div>

<div class="toast" id="toast">–ù–µ—Ç —Ç–æ–≤–∞—Ä–∞</div>

<div class="modal" id="modal">
  <div class="slider" id="slider"></div>
  <div class="modal-info" id="modalInfo"></div>
  <div class="close" onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</div>
</div>

<script>
// ===== –¢–û–í–ê–†–´ =====
const products=[
{
name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—Å–µ—Ä—ã–π)",
price:4300,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏: 185/70, —Ä–∞–∑–º–µ—Ä L. –ü–ª–æ—Ç–Ω—ã–π —Ö–ª–æ–ø–æ–∫, brushed-—Ñ–ª–∏—Å. –¶–≤–µ—Ç —Å–µ—Ä—ã–π.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fVQvE5F.jpg",
"https://iili.io/fVQU5WG.jpg",
"https://iili.io/fVQUMbe.webp"
]
},
{
name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—á—ë—Ä–Ω—ã–π)",
price:4300,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–ú–∏–Ω–∏–º–∞–ª–∏–∑–º, –ø—Ä–µ–º–∏—É–º –ø–æ—à–∏–≤. –¶–≤–µ—Ç —á—ë—Ä–Ω—ã–π.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fVQ6E4j.webp",
"https://iili.io/fVQ6ba4.webp",
"https://iili.io/fVQPF6b.webp"
]
},
{
name:"–ó–∏–ø —Ö—É–¥–∏ No Faith Studio boxy crop fit",
price:4100,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–≠–∫—Å–∫–ª—é–∑–∏–≤. Y2K / Opium —Å—Ç–∏–ª—å. –£–Ω–∏—Å–µ–∫—Å.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fXB5Ctj.jpg",
"https://iili.io/fVQ4Pqb.webp",
"https://iili.io/fVQ6zEG.webp"
]
},
{
name:"–õ–æ–Ω–≥—Å–ª–∏–≤ Derschutze crop fit",
price:3890,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–≠–∫—Å–∫–ª—é–∑–∏–≤. –í—ã—à–∏–≤–∫–∞. –†–∞–∑–º–µ—Ä M.",
subcategory:"longsleeves",
photos:[
"https://iili.io/fVQgdrl.webp",
"https://iili.io/fVQgbaV.webp",
"https://iili.io/fVQrMMb.webp"
]
}
];

// ===== –ö–ê–¢–ï–ì–û–†–ò–ò =====
const categoriesData={
  "–ì–æ–ª–æ–≤–Ω—ã–µ —É–±–æ—Ä—ã":{"caps":"–ö–µ–ø–∫–∏","hats":"–®–∞–ø–∫–∏"},
  "–í–µ—Ä—Ö":{"zip_hoodies":"–ó–∏–ø —Ö—É–¥–∏","sweatshirts":"–°–≤–∏—Ç—à–æ—Ç—ã","longsleeves":"–õ–æ–Ω–≥—Å–ª–∏–≤—ã","tshirts":"–§—É—Ç–±–æ–ª–∫–∏"},
  "–ù–∏–∑":{"pants":"–ë—Ä—é–∫–∏","shorts":"–®–æ—Ä—Ç—ã","jeans":"–î–∂–∏–Ω—Å—ã"},
  "–û–±—É–≤—å":{"sneakers":"–ö—Ä–æ—Å—Å–æ–≤–∫–∏","shoes":"–¢—É—Ñ–ª–∏"}
};

const catalog=document.getElementById("catalog");
const categories=document.getElementById("categories");
const toast=document.getElementById("toast");

function renderCatalog(list){
  catalog.innerHTML="";
  list.forEach(p=>{
    const card=document.createElement("div");
    card.className="card";
    card.onclick=()=>openModal(p);
    card.innerHTML=`
      <img src="${p.photos[0]}">
      <div class="card-body">
        <div>${p.name}</div>
        <div class="price">${p.price} ‚ÇΩ</div>
        <div class="status">${p.status}</div>
      </div>`;
    catalog.appendChild(card);
  });
}

function toggleCategories(){
  const open=categories.style.display==="block";
  categories.style.display=open?"none":"block";
  catalog.style.display=open?"grid":"none";
}

function showToast(){
  toast.style.display="block";
  setTimeout(()=>toast.style.display="none",2500);
}

function filterSubcat(sub){
  const filtered=products.filter(p=>p.subcategory===sub);
  if(!filtered.length){showToast();return;}
  categories.style.display="none";
  catalog.style.display="grid";
  renderCatalog(filtered);
}
function buildCategories(){
  categories.innerHTML="";
  for(const cat in categoriesData){
    const title=document.createElement("div");
    title.className="category";
    title.textContent=cat;
    categories.appendChild(title);

    for(const sub in categoriesData[cat]){
      const sc=document.createElement("div");
      sc.className="subcat";
      sc.textContent=categoriesData[cat][sub];
      sc.onclick=()=>filterSubcat(sub);
      categories.appendChild(sc);
    }
  }
}

// ===== MODAL + PINCH ZOOM =====
function openModal(p){
  const modal=document.getElementById("modal");
  const slider=document.getElementById("slider");
  const info=document.getElementById("modalInfo");

  slider.innerHTML="";

  p.photos.forEach(src=>{
    const slide=document.createElement("div");
    slide.className="slide";

    const img=document.createElement("img");
    img.src=src;

    slide.appendChild(img);
    slider.appendChild(slide);

    enableZoom(img);
  });

  info.innerHTML="";
  const title=document.createElement("b");
  title.textContent=p.name;

  info.appendChild(title);
  info.appendChild(document.createElement("br"));
  info.appendChild(document.createTextNode(p.description));
  info.appendChild(document.createElement("br"));
  info.appendChild(document.createElement("br"));
  info.appendChild(document.createTextNode(${p.price} ‚ÇΩ ‚Ä¢ ${p.status}));

  modal.style.display="flex";
}

function closeModal(){
  document.getElementById("modal").style.display="none";
}

function enableZoom(img){
  let scale=1, startDist=0;

  img.addEventListener("touchstart",e=>{
    if(e.touches.length===2){
      startDist=Math.hypot(
        e.touches[0].pageX-e.touches[1].pageX,
        e.touches[0].pageY-e.touches[1].pageY
      );
    }
  });

  img.addEventListener("touchmove",e=>{
    if(e.touches.length===2){
      const newDist=Math.hypot(
        e.touches[0].pageX-e.touches[1].pageX,
        e.touches[0].pageY-e.touches[1].pageY
      );
      scale=Math.min(Math.max(1,scale*(newDist/startDist)),3);
      img.style.transform=`scale(${scale})`;
      startDist=newDist;
    }
  });
}

// INIT
buildCategories();
renderCatalog(products);
</script>

</body>
</html>





