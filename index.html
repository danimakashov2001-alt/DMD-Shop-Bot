<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>–ö–∞—Ç–∞–ª–æ–≥</title>

<style>
:root { --accent:#c49a6c; }
* { margin:0; padding:0; box-sizing:border-box; }
html,body {
  width:100%; height:100%;
  font-family:-apple-system,BlinkMacSystemFont,Arial;
  background:#0b0b0b; color:#fff;
  overflow:hidden;
}

/* –ö–∞—Ç–∞–ª–æ–≥ */
header {
  height:46px; display:flex; align-items:center;
  padding:0 14px;
  background:rgba(15,15,15,.95);
}
.catalog {
  height:calc(100vh - 46px);
  overflow-y:auto;
  padding:14px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:14px;
}
.card {
  background:#fff; color:#000;
  border-radius:16px; overflow:hidden;
}
.card img { width:100%; height:210px; object-fit:cover; }
.card-body { padding:10px; font-size:13px; }

/* –ì–∞–ª–µ—Ä–µ—è */
#gallery {
  position:fixed;
  inset:0;
  background:#000;
  display:none;
  z-index:100;
}
.viewer {
  width:100%; height:100%;
  overflow:hidden;
  touch-action:pan-y;
}
.track {
  display:flex;
  height:100%;
  transition:transform .35s ease;
}
.slide {
  min-width:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}
.slide img {
  max-width:100%;
  max-height:100%;
  object-fit:contain;
  user-select:none;
  touch-action:none;
  transform-origin:center center;
}

.info {
  position:absolute;
  bottom:0; left:0; right:0;
  padding:12px 16px;
  background:linear-gradient(transparent,rgba(0,0,0,.85));
  font-size:13px;
}
.info .price { color:var(--accent); font-weight:600; }

.close {
  position:absolute;
  top:10px; right:14px;
  font-size:28px;
  cursor:pointer;
}
</style>
</head>
<body>

<header>üõç –ö–∞—Ç–∞–ª–æ–≥</header>
<div class="catalog" id="catalog"></div>

<div id="gallery">
  <div class="viewer" id="viewer">
    <div class="track" id="track"></div>
  </div>
  <div class="close" onclick="closeGallery()">‚úï</div>
  <div class="info" id="info"></div>
</div>

<script>
const products=[
{
name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—Å–µ—Ä—ã–π)",
price:4300,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏: 185/70, —Ä–∞–∑–º–µ—Ä L.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fVQvE5F.jpg",
"https://iili.io/fVQU5WG.jpg",
"https://iili.io/fVQUMbe.webp",
"https://iili.io/fVQUv5P.webp"
]
},
{
name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—á—ë—Ä–Ω—ã–π)",
price:4300,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–ú–∏–Ω–∏–º–∞–ª–∏–∑–º. –ü–ª–æ—Ç–Ω—ã–π —Ö–ª–æ–ø–æ–∫.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fVQ6E4j.webp",
"https://iili.io/fVQ6ba4.webp",
"https://iili.io/fVQPF6b.webp",
"https://iili.io/fVQPuMg.webp",
"https://iili.io/fVQP0NI.webp"
]
},
{
name:"–ó–∏–ø —Ö—É–¥–∏ No Faith Studio boxy crop fit",
price:4100,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"Y2K / Opium —Å—Ç–∏–ª—å.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fXB5Ctj.jpg",
"https://iili.io/fXqKi8B.webp",
"https://iili.io/fXqfRte.webp"
]
},
{
name:"–õ–æ–Ω–≥—Å–ª–∏–≤ Derschutze crop fit",
price:3890,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –≤—ã—à–∏–≤–∫–∞.",
subcategory:"longsleeves",
photos:[
"https://iili.io/fVQgdrl.webp",
"https://iili.io/fVQgbaV.webp",
"https://iili.io/fVQrMMb.webp",
"https://iili.io/fVQrkDF.webp",
"https://iili.io/fVQ4JJ2.webp",
"https://iili.io/fVQ4I5B.webp"
]
}
];

const catalog = document.getElementById("catalog");
const gallery = document.getElementById("gallery");
const track = document.getElementById("track");
const info = document.getElementById("info");
const viewer = document.getElementById("viewer");

let index = 0;
let scale = 1;
let x = 0, y = 0;
let startX = 0;
let isPanning = false;

products.forEach((p,i)=>{
  const c=document.createElement("div");
  c.className="card";
  c.innerHTML=`<img src="${p.photos[0]}"><div class="card-body">${p.name}<br>${p.price} ‚ÇΩ</div>`;
  c.onclick=()=>openGallery(i);
  catalog.appendChild(c);
});

function openGallery(i){
  index = 0;
  track.innerHTML="";
  products[i].photos.forEach(src=>{
    const s=document.createElement("div");
    s.className="slide";
    s.innerHTML=`<img src="${src}">`;
    track.appendChild(s);
  });
  gallery.style.display="block";
  updateInfo(products[i]);
  resetTransform();
}

function closeGallery(){
  gallery.style.display="none";
}

function updateInfo(p){
  info.innerHTML=`
    <div><b>${p.name}</b></div>
    <div>${p.description}</div>
    <div>${p.status}</div>
    <div class="price">${p.price} ‚ÇΩ</div>
  `;
}

function resetTransform(){
  scale=1; x=0; y=0;
  currentImg().style.transform="translate(0,0) scale(1)";
  track.style.transform=`translateX(${-index*100}%)`;
}

function currentImg(){
  return track.children[index].querySelector("img");
}

/* Swipe */
let touchStartX=0;
viewer.addEventListener("touchstart",e=>{
  touchStartX=e.touches[0].clientX;
});
viewer.addEventListener("touchend",e=>{
  const dx=e.changedTouches[0].clientX-touchStartX;
  if(scale===1 && Math.abs(dx)>50){
    index+=dx<0?1:-1;
    index=Math.max(0,Math.min(index,track.children.length-1));
    resetTransform();
  }
});

/* Drag */
viewer.addEventListener("pointerdown",e=>{
  if(scale===1) return;
  isPanning=true;
  startX=e.clientX-x;
  startY=e.clientY-y;
});
viewer.addEventListener("pointermove",e=>{
  if(!isPanning) return;
  x=e.clientX-startX;
  y=e.clientY-startY;
  currentImg().style.transform=`translate(${x}px,${y}px) scale(${scale})`;
});
viewer.addEventListener("pointerup",()=>isPanning=false);

/* Wheel zoom */
viewer.addEventListener("wheel",e=>{
  e.preventDefault();
  scale+=e.deltaY*-0.002;
  scale=Math.max(1,Math.min(4,scale));
  currentImg().style.transform=`translate(${x}px,${y}px) scale(${scale})`;
},{passive:false});

/* Double tap / click */
let lastTap=0;
viewer.addEventListener("click",()=>{
  const now=Date.now();
  if(now-lastTap<300){
    scale=scale===1?2.5:1;
    x=y=0;
    currentImg().style.transform=`translate(0,0) scale(${scale})`;
  }
  lastTap=now;
});
</script>

</body>
</html>
