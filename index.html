<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>–ö–∞—Ç–∞–ª–æ–≥</title>
<style>
:root{
  --accent:#c49a6c;
  --dark:#0d0d0d;
}
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:-apple-system,BlinkMacSystemFont,Arial;
  background:url("https://iili.io/fXfx3ep.jpg") center/cover fixed;
  color:#fff;
}
/* HEADER */
header{
  height:44px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 14px;
  background:rgba(15,15,15,.85);
  backdrop-filter:blur(6px);
}
header h3{font-size:16px}
button{
  background:var(--accent);
  color:#fff;
  border:none;
  padding:6px 14px;
  border-radius:14px;
  cursor:pointer;
}
/* CATALOG */
.catalog{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:14px;
  padding:14px;
}
.card{
  background:#fff;
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 6px 18px rgba(0,0,0,.25);
  cursor:pointer;
}
.card img{
  width:100%;
  height:200px;
  object-fit:cover;
}
.card-body{padding:10px;font-size:14px}
.status{font-size:12px;color:var(--accent)}
/* CATEGORIES */
#overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.8);
  display:none;
  z-index:20;
}
#categories{
  width:80%;
  max-width:320px;
  height:100%;
  background:#141414;
  color:#fff;
  padding:16px;
}
.category{margin-top:14px;font-weight:600}
.subcat{margin:6px 0 6px 14px;color:#bbb;cursor:pointer}
/* GALLERY */
#gallery{
  position:fixed;
  inset:0;
  background:#000;
  display:none;
  z-index:100;
  overflow:hidden;
}
.track{
  display:flex;
  height:100%;
  transition:transform .3s ease;
}
.slide{
  min-width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  position:relative;
}
.slide img{
  max-width:100%;
  max-height:100%;
  transition:transform .25s ease;
  touch-action:none;
  cursor:grab;
}
/* INFO */
.info{
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  background:rgba(0,0,0,.6);
  color:#fff;
  padding:12px;
  font-size:14px;
  transition:opacity .2s;
}
.hidden{opacity:0}
/* INDICATOR */
.dots{
  position:absolute;
  bottom:70px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:6px;
}
.dot{
  width:6px;
  height:6px;
  border-radius:50%;
  background:#555;
}
.dot.active{background:#fff}
/* CLOSE */
.close{
  position:absolute;
  top:12px;
  right:16px;
  font-size:22px;
  cursor:pointer;
  color:#fff;
}
</style>
</head>
<body>

<header>
  <h3>üõç –ö–∞—Ç–∞–ª–æ–≥</h3>
  <button onclick="openCats()">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
</header>

<div id="overlay" onclick="closeCats()">
  <div id="categories" onclick="event.stopPropagation()">
    <div class="category">–í–µ—Ä—Ö</div>
    <div class="subcat" onclick="filter('zip_hoodies')">–ó–∏–ø —Ö—É–¥–∏</div>
    <div class="subcat" onclick="filter('longsleeves')">–õ–æ–Ω–≥—Å–ª–∏–≤—ã</div>
  </div>
</div>

<div class="catalog" id="catalog"></div>

<!-- GALLERY -->
<div id="gallery">
  <div class="close" onclick="closeGallery()">‚úï</div>
  <div class="track" id="track"></div>
  <div class="dots" id="dots"></div>
  <div class="info" id="info"></div>
</div>

<script>
const products=[
{
name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—Å–µ—Ä—ã–π)",
price:4300,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏: 185/70, —Ä–∞–∑–º–µ—Ä L. –ü–ª–æ—Ç–Ω—ã–π —Ö–ª–æ–ø–æ–∫, brushed-—Ñ–ª–∏—Å. –¶–≤–µ—Ç —Å–µ—Ä—ã–π.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fVQvE5F.jpg",
"https://iili.io/fVQU5WG.jpg",
"https://iili.io/fVQUMbe.webp",
"https://iili.io/fVQUv5P.webp"
]
},
{
name:"–ó–∏–ø —Ö—É–¥–∏ Zara Type crop fit (—á—ë—Ä–Ω—ã–π)",
price:4300,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–ú–∏–Ω–∏–º–∞–ª–∏–∑–º, –ø—Ä–µ–º–∏—É–º –ø–æ—à–∏–≤. –¶–≤–µ—Ç —á—ë—Ä–Ω—ã–π.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fVQ6E4j.webp",
"https://iili.io/fVQ6ba4.webp",
"https://iili.io/fVQPF6b.webp",
"https://iili.io/fVQPuMg.webp",
"https://iili.io/fVQP0NI.webp"
]
},
{
name:"–ó–∏–ø —Ö—É–¥–∏ No Faith Studio boxy crop fit",
price:4100,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–≠–∫—Å–∫–ª—é–∑–∏–≤. Y2K / Opium —Å—Ç–∏–ª—å. –£–Ω–∏—Å–µ–∫—Å.",
subcategory:"zip_hoodies",
photos:[
"https://iili.io/fXB5Ctj.jpg",
"https://iili.io/fVQ4Pqb.webp",
"https://iili.io/fVQ6zEG.webp"
]
},
{
name:"–õ–æ–Ω–≥—Å–ª–∏–≤ Derschutze crop fit",
price:3890,
status:"–í –Ω–∞–ª–∏—á–∏–∏",
description:"–≠–∫—Å–∫–ª—é–∑–∏–≤. –í—ã—à–∏–≤–∫–∞. –†–∞–∑–º–µ—Ä M.",
subcategory:"longsleeves",
photos:[
"https://iili.io/fVQgdrl.webp",
"https://iili.io/fVQgbaV.webp",
"https://iili.io/fVQrMMb.webp",
"https://iili.io/fVQrkDF.webp",
"https://iili.io/fVQ4JJ2.webp",
"https://iili.io/fVQ4I5B.webp"
]
}
];

const catalog=document.getElementById("catalog");
const gallery=document.getElementById("gallery");
const track=document.getElementById("track");
const dots=document.getElementById("dots");
const info=document.getElementById("info");

let index=0, startX=0, dx=0;
let scale=1, panX=0, panY=0;
let imgEl=null, isDragging=false, lastTouchDist=0;

function render(list){
  catalog.innerHTML="";
  list.forEach(p=>{
    const c=document.createElement("div");
    c.className="card";
    c.innerHTML=`<img src="${p.photos[0]}"><div class="card-body">${p.name}<br><span class="status">${p.status}</span></div>`;
    c.onclick=()=>openGallery(p);
    catalog.appendChild(c);
  });
}

function openGallery(p){
  track.innerHTML=""; dots.innerHTML="";
  p.photos.forEach((src,i)=>{
    const slide=document.createElement("div");
    slide.className="slide";
    const img=document.createElement("img");
    img.src=src;
    slide.appendChild(img);
    track.appendChild(slide);
    const dot=document.createElement("div");
    dot.className="dot "+(i===0?'active':'');
    dots.appendChild(dot);
  });
  index=0; scale=1; panX=0; panY=0;
  imgEl=track.querySelector('img');
  imgEl.style.transform="scale(1) translate(0px,0px)";
  info.innerHTML=`<b>${p.name}</b><br>${p.price} ‚ÇΩ`;
  gallery.style.display="block";
  updateSlide();
}

// SWIPE
track.addEventListener("touchstart",e=>{
  if(e.touches.length===1){
    startX=e.touches[0].clientX;
  }
});
track.addEventListener("touchmove",e=>{
  if(e.touches.length===1){
    dx=e.touches[0].clientX-startX;
    if(scale===1){
      track.style.transform=`translateX(${dx-index*innerWidth}px)`;
    }
    startX=e.touches[0].clientX;
  }
  if(e.touches.length===2 && imgEl){
    e.preventDefault();
    const dist=Math.hypot(
      e.touches[0].clientX-e.touches[1].clientX,
      e.touches[0].clientY-e.touches[1].clientY
    );
    if(!lastTouchDist) lastTouchDist=dist;
    let newScale=scale*(dist/lastTouchDist);
    newScale=Math.max(1,Math.min(newScale,5));
    scale=newScale;
    imgEl.style.transform=`scale(${scale}) translate(${panX/scale}px, ${panY/scale}px)`;
    lastTouchDist=dist;
  }
});
track.addEventListener("touchend",e=>{
  if(scale===1){
    if(Math.abs(dx)>50) index+=dx<0?1:-1;
    index=Math.max(0,Math.min(index,track.children.length-1));
    updateSlide();
  }
  dx=0; lastTouchDist=0;
});

// DOUBLE TAP / CLICK ZOOM
let lastTap=0;
track.addEventListener("dblclick",()=>toggleZoom());
track.addEventListener("touchend",()=>{
  const now=Date.now();
  if(now-lastTap<300) toggleZoom();
  lastTap=now;
});
function toggleZoom(){
  if(!imgEl) return;
  if(scale===1){
    scale=2; panX=0; panY=0;
  } else scale=1;
  imgEl.style.transform=`scale(${scale}) translate(0px,0px)`;
}

// MOUSE ZOOM
track.addEventListener("wheel",e=>{
  if(!imgEl) return;
  e.preventDefault();
  let delta=e.deltaY>0?-0.1:0.1;
  scale=Math.max(1,Math.min(scale+delta,5));
  imgEl.style.transform=`scale(${scale}) translate(${panX/scale}px,${panY/scale}px)`;
});

// INFO TOGGLE
gallery.addEventListener("click",e=>{
  if(e.target.tagName==="IMG") info.classList.toggle("hidden");
});

// CLOSE
function closeGallery(){gallery.style.display="none"; scale=1; panX=0; panY=0; imgEl=null}

// CATEGORIES
function openCats(){overlay.style.display="block"}
function closeCats(){overlay.style.display="none"}
function filter(c){render(products.filter(p=>p.subcategory===c));closeCats()}

function updateSlide(){
  track.style.transform=`translateX(${-index*innerWidth}px)`;
  [...dots.children].forEach((d,i)=>d.classList.toggle("active",i===index));
}

render(products);
</script>
</body>
</html>
